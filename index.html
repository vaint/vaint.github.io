<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>云天科技工作室</title>
</head>
<body>
</body>
  
  
<script type='text/javascript'>
    const IDPhotoURLSchema = "weixin://dl/business/?appid=wx1234123123&path=pages/home/index&query=";
    window.onload = function() {　　　
        console.log("onload");　
        var url = IDPhotoURLSchema;
        var params = getQueryParams();
        if (params.enterFrom) {
            var query = "enterFrom=" + params.enterFrom;
            url += encodeURIComponent(query);
        }
        console.log("url="+url);　
        window.href = url;
    }

    function getQueryParams() {
        const query = window.location.search;
        console.log("query="+query);
        if (query.length == 0) {
            return {};
        }

        let queryString = query.substring(1);
        console.log('queryString='+queryString);
        let queryArray = queryString.split("&");

        let params = {};
        for (let i = 0; i < queryArray.length; i++) {
            let pair = queryArray[i].split("=");
            params[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
        }
        console.log('params='+JSON.stringify(params));
        return params;
    }
</script>
</html>